<div class="password-page">
  <div class="password-page__accent" aria-hidden="true"></div>

  <div class="password-page__content">

    {%- comment -%} Shop logo / name {%- endcomment -%}
    {% if section.settings.show_logo %}
      <div class="password-page__logo">
        {% if settings.logo %}
          {{ settings.logo | image_url: width: 200 | image_tag: class: 'password-page__logo-img' }}
        {% else %}
          <h2 class="password-page__shop-name">{{ shop.name }}</h2>
        {% endif %}
      </div>
    {% endif %}

    {%- comment -%} Lock icon {%- endcomment -%}
    <div class="password-page__icon" aria-hidden="true">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        <circle cx="12" cy="16.5" r="1.5" fill="currentColor" stroke="none"/>
        <line x1="12" y1="18" x2="12" y2="20"/>
      </svg>
    </div>

    {%- comment -%} Heading {%- endcomment -%}
    <h1 class="password-page__heading">{{ 'password.title' | t }}</h1>

    {%- comment -%} Shop password message {%- endcomment -%}
    {% if shop.password_message %}
      <p class="password-page__message">{{ shop.password_message }}</p>
    {% endif %}

    {%- comment -%} Password form {%- endcomment -%}
    {% form 'storefront_password' %}
      {% if form.errors %}
        <div class="password-page__errors">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          {{ form.errors | default_errors }}
        </div>
      {% endif %}

      <div class="password-page__form-row">
        <label for="password-input" class="visually-hidden">{{ 'password.password' | t }}</label>
        <input
          type="password"
          name="password"
          id="password-input"
          class="password-page__input"
          placeholder="{{ 'password.password' | t }}"
          autocomplete="current-password"
          autofocus
        >
        <button type="submit" class="password-page__submit">
          {{ 'password.enter' | t }}
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
        </button>
      </div>
    {% endform %}

  </div>

  {%- comment -%} Footer {%- endcomment -%}
  <footer class="password-page__footer">
    {{ powered_by_link }}
  </footer>
</div>

{% stylesheet %}
  .password-page {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 40px 20px;
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-primary--family, inherit);
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .password-page__accent {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--color-primary, #5c9bdd) 30%,
      var(--color-secondary, #5c9bdd) 70%,
      transparent 100%
    );
  }

  .password-page__content {
    max-width: 460px;
    width: 100%;
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* ===== LOGO ===== */
  .password-page__logo {
    margin-bottom: 32px;
  }

  .password-page__logo-img {
    max-width: 200px;
    height: auto;
  }

  .password-page__shop-name {
    font-size: 24px;
    font-weight: 600;
    margin: 0;
    letter-spacing: 0.02em;
  }

  /* ===== LOCK ICON ===== */
  .password-page__icon {
    width: 72px;
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: color-mix(in srgb, var(--color-primary, #5c9bdd) 10%, transparent);
    color: var(--color-primary, #5c9bdd);
    margin-bottom: 24px;
  }

  /* ===== TEXT ===== */
  .password-page__heading {
    font-size: 28px;
    font-weight: 500;
    margin: 0 0 12px;
    line-height: 1.3;
  }

  .password-page__message {
    font-size: 15px;
    color: color-mix(in srgb, var(--color-foreground) 60%, transparent);
    margin: 0 0 32px;
    line-height: 1.6;
    max-width: 380px;
  }

  /* ===== FORM ERRORS ===== */
  .password-page__errors {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
    background: color-mix(in srgb, #e74c3c 8%, transparent);
    color: #c0392b;
    border: 1px solid color-mix(in srgb, #e74c3c 20%, transparent);
    border-radius: var(--style-border-radius-inputs, 8px);
    padding: 10px 16px;
    margin-bottom: 16px;
    font-size: 14px;
    width: 100%;
    text-align: left;
  }

  .password-page__errors svg {
    flex-shrink: 0;
  }

  /* ===== FORM ROW â€” PILL SHAPE ===== */
  .password-page__form-row {
    display: flex;
    width: 100%;
    max-width: 420px;
    border: 1px solid color-mix(in srgb, var(--color-foreground) 20%, transparent);
    border-radius: 8px;
    overflow: hidden;
    transition: border-color 0.2s ease;
  }

  .password-page__form-row:focus-within {
    border-color: var(--color-primary, #5c9bdd);
  }

  .password-page__input {
    flex: 1;
    padding: 14px 22px;
    border: none;
    outline: none;
    font-size: 14px;
    font-family: inherit;
    background: transparent;
    color: var(--color-foreground);
    min-width: 0;
  }

  .password-page__input::placeholder {
    color: color-mix(in srgb, var(--color-foreground) 40%, transparent);
  }

  .password-page__submit {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 14px 24px;
    background: var(--color-button, var(--color-primary, #5c9bdd));
    color: var(--color-button-label, #fff);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    font-family: inherit;
    white-space: nowrap;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .password-page__submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(92, 155, 221, 0.3);
  }

  /* ===== FOOTER ===== */
  .password-page__footer {
    padding-top: 40px;
    font-size: 12px;
    color: color-mix(in srgb, var(--color-foreground) 35%, transparent);
  }

  .password-page__footer a {
    color: inherit;
    text-decoration: none;
    transition: color 0.2s;
  }

  .password-page__footer a:hover {
    color: var(--color-foreground);
  }

  /* ===== VISUALLY HIDDEN ===== */
  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    white-space: nowrap;
    border: 0;
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 480px) {
    .password-page__heading {
      font-size: 22px;
    }

    .password-page__icon {
      width: 60px;
      height: 60px;
    }

    .password-page__icon svg {
      width: 36px;
      height: 36px;
    }

    .password-page__form-row {
      flex-direction: column;
      border-radius: var(--style-border-radius-inputs, 12px);
    }

    .password-page__input {
      padding: 14px 18px;
      text-align: center;
      border-bottom: 1px solid color-mix(in srgb, var(--color-foreground) 10%, transparent);
    }

    .password-page__submit {
      justify-content: center;
      padding: 14px 18px;
      border-radius: 0;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Password page",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_logo",
      "label": "Show logo",
      "default": true
    }
  ]
}
{% endschema %}
